<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:sec="http://www.springframework.org/security/tags"
                template="../templates/forms.xhtml">
                
    <f:metadata>
		<f:viewAction action="#{clientRegistrationController.onLoadExisting}"/>
		<f:viewAction action="#{registrationSessionController.onLoad}"/>
		<f:event type="preRenderView" listener="#{registerController.checkCurrentRegistrationStep(4)}" />
	</f:metadata>
           
    <ui:define name="body">
		<div class="register-box-custom">
			<div class="table-cell">
	            <div class="login-logo">
	                <p:link style="color: #fff;" href="/login"><b>#{label['login.logo.name1']}</b>#{label['login.logo.name2']}</p:link>
	            </div>
	            <div class="box login-box-body">
				    <div class="#{registerController.noGroupAvailable ? 'hidden-steps' : ''} wizard">
						<div class="steps">
							<ul role="tablist">
								<li class="first"><a></a></li>
								<li class="checked"><a></a></li>
								<li class="checked"><a></a></li>
								<li class="checked"><a></a></li>
								<li><a></a></li>
								<li class="last"><a></a></li>
							 </ul>
						 </div>
					 </div>
					 
					 <ui:insert name="form">
					 	<sec:anonymous>
					 	<ui:include src="../includes/registration/new-client.xhtml"/>
					 	</sec:anonymous>
					 	<sec:authorize access="hasRole('CLIENT')">
					 	<ui:include src="../includes/registration/existing-client.xhtml"/>
					 	</sec:authorize>
					 </ui:insert> 
				    
	            </div>
	    	</div>
        </div>
    </ui:define>

</ui:composition>